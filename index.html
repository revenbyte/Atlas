<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLAS OS ¬∑ v1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', monospace;
        }

        body {
            background: #030305;
            color: #e0e4e8;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow: hidden;
            letter-spacing: 0.2px;
        }

        /* Main OS Container */
        .atlas-os {
            width: 1440px;
            max-width: 100%;
            height: 960px;
            max-height: 98vh;
            background: #0a0c12;
            border: 1px solid #1e2632;
            border-radius: 16px;
            display: grid;
            grid-template-rows: 48px 1fr;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        /* ===== TOP STATUS BAR ===== */
        .status-bar {
            background: #0d0f17;
            border-bottom: 1px solid #1e2632;
            padding: 0 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #8a9bb5;
        }

        .status-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .atlas-logo {
            color: #64b5f6;
            font-weight: 600;
            letter-spacing: 2px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .atlas-logo::before {
            content: '‚óè';
            color: #4caf50;
            font-size: 0.7rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-label {
            color: #4b5f73;
        }

        .status-value {
            color: #e0e4e8;
        }

        .mode-badge {
            background: #1a2533;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            color: #64b5f6;
            border: 1px solid #2a3a4a;
        }

        .status-right {
            display: flex;
            gap: 1.5rem;
        }

        /* ===== MAIN GRID ===== */
        .main-grid {
            display: grid;
            grid-template-columns: 240px 1fr;
            overflow: hidden;
            height: 100%;
        }

        /* ===== LEFT PANEL - MODULES ===== */
        .modules-panel {
            background: #0b0e14;
            border-right: 1px solid #1e2632;
            padding: 1.5rem 0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .module-section {
            margin-bottom: 2rem;
        }

        .module-header {
            padding: 0 1.5rem;
            margin-bottom: 0.8rem;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #4b5f73;
            font-weight: 500;
        }

        .module-item {
            padding: 0.7rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #8a9bb5;
            border-left: 3px solid transparent;
            cursor: pointer;
            transition: all 0.15s;
            font-size: 0.9rem;
            margin: 2px 0;
        }

        .module-item:hover {
            background: #1a232e;
            color: #e0e4e8;
        }

        .module-item.active {
            background: #1a232e;
            border-left-color: #64b5f6;
            color: #fff;
        }

        .module-icon {
            width: 20px;
            text-align: center;
            color: #4b5f73;
        }

        .module-item.active .module-icon {
            color: #64b5f6;
        }

        .module-count {
            margin-left: auto;
            font-size: 0.75rem;
            background: #1e2632;
            padding: 2px 6px;
            border-radius: 10px;
            color: #8a9bb5;
        }

        /* Quick Stats in Left Panel */
        .quick-stats {
            margin-top: auto;
            padding: 1.5rem;
            border-top: 1px solid #1e2632;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.8rem;
        }

        .stat-label {
            color: #5f738c;
        }

        .stat-number {
            color: #64b5f6;
            font-weight: 500;
        }

        .progress-track {
            height: 3px;
            background: #1e2632;
            border-radius: 2px;
            margin: 0.5rem 0 1rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #64b5f6;
            width: 65%;
        }

        /* ===== MAIN PANEL ===== */
        .main-panel {
            background: #0c0f16;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Panel Header with Tabs */
        .panel-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #1e2632;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .view-tabs {
            display: flex;
            gap: 1.5rem;
        }

        .view-tab {
            color: #5f738c;
            cursor: pointer;
            font-size: 0.9rem;
            padding-bottom: 0.3rem;
            border-bottom: 2px solid transparent;
        }

        .view-tab.active {
            color: #64b5f6;
            border-bottom-color: #64b5f6;
        }

        .context-indicator {
            color: #8a9bb5;
            font-size: 0.8rem;
            background: #1a232e;
            padding: 4px 12px;
            border-radius: 20px;
            border: 1px solid #2a3a4a;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        /* Dashboard View */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.2rem;
            margin-bottom: 2rem;
        }

        .dashboard-card {
            background: #0a0d14;
            border: 1px solid #1e2632;
            border-radius: 12px;
            padding: 1.2rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            color: #5f738c;
            font-size: 0.8rem;
        }

        .card-value {
            font-size: 2rem;
            color: #fff;
            font-weight: 400;
            margin-bottom: 0.3rem;
        }

        .card-trend {
            font-size: 0.75rem;
            color: #4caf50;
        }

        .task-list {
            margin-top: 0.5rem;
        }

        .task-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.7rem 0;
            border-bottom: 1px solid #1a232e;
        }

        .task-item:last-child {
            border-bottom: none;
        }

        .task-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #f5a623;
        }

        .task-dot.completed {
            background: #4caf50;
        }

        .task-dot.high {
            background: #ff4d4d;
        }

        .task-content {
            flex: 1;
            font-size: 0.9rem;
        }

        .task-meta {
            font-size: 0.7rem;
            color: #5f738c;
        }

        /* Terminal/Output View */
        .output-container {
            background: #0a0d14;
            border: 1px solid #1e2632;
            border-radius: 12px;
            overflow: hidden;
        }

        .output-header {
            background: #0d0f17;
            padding: 0.8rem 1.2rem;
            border-bottom: 1px solid #1e2632;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .output-dots {
            display: flex;
            gap: 6px;
        }

        .output-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #5f738c;
        }

        .output-dot.red { background: #ff5f56; }
        .output-dot.yellow { background: #ffbd2e; }
        .output-dot.green { background: #27c93f; }

        .output-title {
            color: #8a9bb5;
            font-size: 0.8rem;
        }

        .output-body {
            padding: 1.2rem;
            min-height: 200px;
            max-height: 300px;
            overflow-y: auto;
        }

        .output-line {
            margin-bottom: 0.8rem;
            color: #cbd5e0;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .output-prompt {
            color: #64b5f6;
            margin-right: 10px;
        }

        .output-card {
            background: #0d0f17;
            border: 1px solid #1e2632;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .output-card-title {
            color: #64b5f6;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .output-card-content {
            color: #8a9bb5;
            font-size: 0.85rem;
            line-height: 1.6;
        }

        /* Command Input */
        .command-area {
            padding: 1rem 1.5rem 1.5rem;
            border-top: 1px solid #1e2632;
        }

        .input-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #0a0d14;
            border: 1px solid #1e2632;
            border-radius: 40px;
            padding: 0.3rem 0.3rem 0.3rem 1.5rem;
        }

        .input-container:focus-within {
            border-color: #64b5f6;
        }

        .command-prompt {
            color: #64b5f6;
            font-weight: 600;
            font-size: 1rem;
        }

        #commandInput {
            flex: 1;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 0.95rem;
            padding: 0.8rem 0;
            outline: none;
        }

        #commandInput::placeholder {
            color: #3a4a5a;
            font-style: normal;
        }

        .command-send {
            background: #1a2632;
            border: 1px solid #2a3a4a;
            color: #8a9bb5;
            width: 40px;
            height: 40px;
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .command-send:hover {
            background: #2a3a4a;
            color: #64b5f6;
            border-color: #64b5f6;
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.8rem;
            padding-left: 0.5rem;
        }

        .quick-action {
            background: transparent;
            border: 1px solid #1e2632;
            color: #5f738c;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            cursor: pointer;
        }

        .quick-action:hover {
            border-color: #64b5f6;
            color: #64b5f6;
        }

        /* Thinking Animation */
        .neural-indicator {
            display: inline-flex;
            gap: 3px;
            align-items: center;
            margin-left: 10px;
        }

        .neural-indicator span {
            width: 3px;
            height: 3px;
            background: #64b5f6;
            border-radius: 50%;
            animation: neuralPulse 1.5s infinite;
        }

        .neural-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .neural-indicator span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes neuralPulse {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 5px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0d14;
        }
        ::-webkit-scrollbar-thumb {
            background: #2a3a4a;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="atlas-os">
        <!-- TOP STATUS BAR -->
        <div class="status-bar">
            <div class="status-left">
                <div class="atlas-logo">ATLAS</div>
                <div class="status-item">
                    <span class="status-label">EJ</span>
                    <span class="status-value">‚óè active</span>
                </div>
                <div class="status-item">
                    <span class="status-label">time</span>
                    <span class="status-value" id="currentTime">21:47</span>
                </div>
                <div class="mode-badge">FOCUS MODE</div>
            </div>
            <div class="status-right">
                <div class="status-item">
                    <span class="status-label">tasks</span>
                    <span class="status-value">2 pending</span>
                </div>
                <div class="status-item">
                    <span class="status-label">MT5</span>
                    <span class="status-value" style="color: #ff4d4d;">-0.4%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">system</span>
                    <span class="status-value">98%</span>
                </div>
            </div>
        </div>

        <!-- MAIN GRID -->
        <div class="main-grid">
            <!-- LEFT MODULES PANEL -->
            <div class="modules-panel">
                <div class="module-section">
                    <div class="module-header">core</div>
                    <div class="module-item active" onclick="setModule(this, 'dashboard')">
                        <span class="module-icon">‚åÇ</span>
                        <span>Dashboard</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'tasks')">
                        <span class="module-icon">‚úì</span>
                        <span>Tasks</span>
                        <span class="module-count">3</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'projects')">
                        <span class="module-icon">‚äû</span>
                        <span>Projects</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'journal')">
                        <span class="module-icon">üìî</span>
                        <span>Journal</span>
                    </div>
                </div>

                <div class="module-section">
                    <div class="module-header">intelligence</div>
                    <div class="module-item" onclick="setModule(this, 'research')">
                        <span class="module-icon">‚óâ</span>
                        <span>Research</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'learning')">
                        <span class="module-icon">‚ñ≤</span>
                        <span>Learning</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'memory')">
                        <span class="module-icon">‚óà</span>
                        <span>Memory</span>
                    </div>
                </div>

                <div class="module-section">
                    <div class="module-header">systems</div>
                    <div class="module-item" onclick="setModule(this, 'finflow')">
                        <span class="module-icon">‚Çø</span>
                        <span>FinFlow</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'trading')">
                        <span class="module-icon">üìä</span>
                        <span>Trading</span>
                    </div>
                    <div class="module-item" onclick="setModule(this, 'settings')">
                        <span class="module-icon">‚öô</span>
                        <span>Settings</span>
                    </div>
                </div>

                <div class="quick-stats">
                    <div class="stat-row">
                        <span class="stat-label">focus time</span>
                        <span class="stat-number">12.4h</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">tasks</span>
                        <span class="stat-number">18/24</span>
                    </div>
                    <div class="progress-track">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">streak</span>
                        <span class="stat-number">23 days</span>
                    </div>
                </div>
            </div>

            <!-- MAIN PANEL -->
            <div class="main-panel">
                <!-- Panel Header -->
                <div class="panel-header">
                    <div class="view-tabs">
                        <div class="view-tab active" onclick="switchView('terminal')">TERMINAL</div>
                        <div class="view-tab" onclick="switchView('dashboard')">DASHBOARD</div>
                        <div class="view-tab" onclick="switchView('graph')">GRAPH</div>
                    </div>
                    <div class="context-indicator" id="contextIndicator">
                        /dashboard
                    </div>
                </div>

                <!-- Content Area -->
                <div class="content-area" id="contentArea">
                    <!-- DASHBOARD VIEW (default) -->
                    <div id="dashboardView">
                        <!-- Welcome Line -->
                        <div style="margin-bottom: 2rem;">
                            <div style="font-size: 1.8rem; color: #fff; margin-bottom: 0.3rem;">EJ.</div>
                            <div style="color: #8a9bb5;">2 unfinished tasks ¬∑ MT5 volatile ¬∑ FinFlow update pending</div>
                        </div>

                        <!-- Dashboard Cards -->
                        <div class="dashboard-grid">
                            <div class="dashboard-card">
                                <div class="card-header">
                                    <span>PROJECTS</span>
                                    <span>4 active</span>
                                </div>
                                <div class="card-value">75%</div>
                                <div class="card-trend">‚ñ≤ 12% this week</div>
                                <div class="task-list" style="margin-top: 1rem;">
                                    <div class="task-item">
                                        <div class="task-dot high"></div>
                                        <div class="task-content">FinFlow: Transaction sync</div>
                                        <div class="task-meta">today</div>
                                    </div>
                                    <div class="task-item">
                                        <div class="task-dot"></div>
                                        <div class="task-content">Atlas: Memory layer</div>
                                        <div class="task-meta">tomorrow</div>
                                    </div>
                                </div>
                            </div>

                            <div class="dashboard-card">
                                <div class="card-header">
                                    <span>TRADING</span>
                                    <span>MT5</span>
                                </div>
                                <div class="card-value" style="color: #ff4d4d;">-2.3%</div>
                                <div class="card-trend" style="color: #ff4d4d;">‚ñº 1.2% today</div>
                                <div style="margin-top: 1rem; font-size: 0.85rem; color: #8a9bb5;">
                                    Positions: 2 open ¬∑ Risk: elevated
                                </div>
                            </div>
                        </div>

                        <!-- Output Terminal -->
                        <div class="output-container">
                            <div class="output-header">
                                <div class="output-dots">
                                    <div class="output-dot red"></div>
                                    <div class="output-dot yellow"></div>
                                    <div class="output-dot green"></div>
                                </div>
                                <div class="output-title">atlas@core:~</div>
                                <div class="neural-indicator" id="thinkingIndicator" style="display: none;">
                                    <span></span><span></span><span></span>
                                </div>
                            </div>
                            <div class="output-body" id="outputBody">
                                <div class="output-line">
                                    <span class="output-prompt">‚ñ†</span> System online. Context loaded.
                                </div>
                                <div class="output-line">
                                    <span class="output-prompt">‚ñ†</span> 2 tasks pending ¬∑ FinFlow requires attention
                                </div>
                                <div class="output-card">
                                    <div class="output-card-title">/plan finflow</div>
                                    <div class="output-card-content">
                                        Transaction sync pending ¬∑ Banking API window closes in 3h<br>
                                        Priority: HIGH ¬∑ Est. time: 45min
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- TERMINAL VIEW (hidden) -->
                    <div id="terminalView" style="display: none;">
                        <div class="output-container" style="min-height: 500px;">
                            <div class="output-header">
                                <div class="output-dots">
                                    <div class="output-dot red"></div>
                                    <div class="output-dot yellow"></div>
                                    <div class="output-dot green"></div>
                                </div>
                                <div class="output-title">atlas@core:~/terminal</div>
                            </div>
                            <div class="output-body" id="terminalOutputBody" style="min-height: 400px;">
                                <div class="output-line">
                                    <span class="output-prompt">$</span> Atlas terminal v0.1
                                </div>
                                <div class="output-line">
                                    <span class="output-prompt">></span> Type /help for commands
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- GRAPH VIEW (hidden) -->
                    <div id="graphView" style="display: none;">
                        <div style="background: #0a0d14; border: 1px solid #1e2632; border-radius: 12px; padding: 2rem; text-align: center; color: #5f738c;">
                            Knowledge graph loading...
                        </div>
                    </div>
                </div>

                <!-- COMMAND INPUT AREA -->
                <div class="command-area">
                    <div class="input-container">
                        <span class="command-prompt">‚ùØ</span>
                        <input type="text" id="commandInput" placeholder="enter command or ask anything...">
                        <div class="command-send" onclick="sendCommand()">‚Üµ</div>
                    </div>
                    <div class="quick-actions">
                        <span class="quick-action" onclick="quickCommand('/plan')">/plan</span>
                        <span class="quick-action" onclick="quickCommand('/build')">/build</span>
                        <span class="quick-action" onclick="quickCommand('/trade')">/trade</span>
                        <span class="quick-action" onclick="quickCommand('/reflect')">/reflect</span>
                        <span class="quick-action" onclick="quickCommand('/status')">/status</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        let currentModule = 'dashboard';
        let currentView = 'dashboard';
        let commandHistory = [];
        let historyIndex = -1;

        // Initialize
        function init() {
            updateTime();
            setInterval(updateTime, 1000);
            
            const saved = localStorage.getItem('atlas_command_history');
            if (saved) {
                commandHistory = JSON.parse(saved);
            }
        }

        // Update time
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
        }

        // Module switching
        function setModule(element, module) {
            document.querySelectorAll('.module-item').forEach(el => {
                el.classList.remove('active');
            });
            element.classList.add('active');
            currentModule = module;
            
            document.getElementById('contextIndicator').textContent = `/${module}`;
            
            // Update dashboard based on module
            if (module === 'dashboard') {
                showDashboardView();
            } else {
                addOutputLine(`Switched to ${module} context`);
                if (module === 'tasks') {
                    addOutputLine('Tasks: 3 pending ¬∑ 1 high priority');
                } else if (module === 'finflow') {
                    addOutputLine('FinFlow: Transaction sync pending ¬∑ Banking API rate limited');
                } else if (module === 'trading') {
                    addOutputLine('Trading: EUR/USD -0.4% ¬∑ BTC +2.3%');
                }
            }
        }

        // View switching
        function switchView(view) {
            currentView = view;
            
            document.querySelectorAll('.view-tab').forEach(el => {
                el.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.getElementById('dashboardView').style.display = view === 'dashboard' ? 'block' : 'none';
            document.getElementById('terminalView').style.display = view === 'terminal' ? 'block' : 'none';
            document.getElementById('graphView').style.display = view === 'graph' ? 'block' : 'none';
        }

        // Show dashboard view
        function showDashboardView() {
            switchView('dashboard');
        }

        // Command handling
        function sendCommand() {
            const input = document.getElementById('commandInput');
            const command = input.value.trim();
            
            if (!command) return;
            
            // Add to history
            commandHistory.push(command);
            localStorage.setItem('atlas_command_history', JSON.stringify(commandHistory));
            
            // Show in output
            addOutputLine(`> ${command}`, 'user');
            
            // Show thinking
            showThinking();
            
            // Process
            setTimeout(() => {
                hideThinking();
                processCommand(command);
            }, 400);
            
            input.value = '';
        }

        function processCommand(command) {
            const lower = command.toLowerCase();
            
            // Command routing
            if (lower.startsWith('/plan')) {
                addOutputLine('=== PLAN ===');
                addOutputLine('‚Ä¢ FinFlow: Transaction sync (high)');
                addOutputLine('‚Ä¢ Atlas: Memory schema (in progress)');
                addOutputLine('‚Ä¢ Trading: Risk parameters (not started)');
            }
            else if (lower.startsWith('/build')) {
                addOutputLine('=== BUILD ===');
                addOutputLine('1. Atlas memory layer ¬∑ 32%');
                addOutputLine('2. FinFlow backend ¬∑ 75%');
                addOutputLine('3. Trading bot ¬∑ 15%');
            }
            else if (lower.startsWith('/trade')) {
                addOutputLine('=== MARKETS ===');
                addOutputLine('EUR/USD: -0.4% ¬∑ Volatility: high');
                addOutputLine('BTC: +2.3% ¬∑ Support at 45k');
                addOutputLine('Positions: 2 open ¬∑ P/L: -$124.50');
            }
            else if (lower.startsWith('/reflect')) {
                addOutputLine('=== REFLECTION ===');
                addOutputLine('Last 24h: Progress on FinFlow, trading review pending');
                addOutputLine('Energy: Focused ¬∑ Recommend: tackle high-priority tasks');
            }
            else if (lower.startsWith('/status')) {
                addOutputLine('=== SYSTEM ===');
                addOutputLine('Uptime: 12d ¬∑ Memory: 43% ¬∑ Learning: 78%');
            }
            else if (lower.includes('finflow')) {
                addOutputLine('FinFlow: Transaction sync pending. Banking API window closes in 3h.');
                addOutputLine('Priority: HIGH ¬∑ Est. time: 45min');
            }
            else if (lower.includes('atlas')) {
                addOutputLine('Atlas core: v0.2 ¬∑ Memory layer in development');
                addOutputLine('Learning rate: 78% ¬∑ Context windows: 3');
            }
            else if (lower.includes('help') || lower === '/help') {
                addOutputLine('=== COMMANDS ===');
                addOutputLine('/plan     - Strategy');
                addOutputLine('/build    - Projects');
                addOutputLine('/trade    - Markets');
                addOutputLine('/reflect  - Journal');
                addOutputLine('/status   - System');
            }
            else {
                // Natural language - feels like learning
                const responses = [
                    `Processing: "${command}". Adding to learning queue.`,
                    `Noted. This will inform future responses.`,
                    `Context saved. What else?`,
                    `I'll remember this. Continue.`
                ];
                addOutputLine(responses[Math.floor(Math.random() * responses.length)]);
            }
        }

        function quickCommand(cmd) {
            document.getElementById('commandInput').value = cmd;
            sendCommand();
        }

        // Output helpers
        function addOutputLine(text, type = 'system') {
            const outputBody = document.getElementById('outputBody');
            const line = document.createElement('div');
            line.className = 'output-line';
            
            if (type === 'user') {
                line.innerHTML = `<span class="output-prompt">‚ùØ</span> ${text}`;
            } else {
                line.innerHTML = `<span class="output-prompt">‚ñ†</span> ${text}`;
            }
            
            outputBody.appendChild(line);
            outputBody.scrollTop = outputBody.scrollHeight;
        }

        function showThinking() {
            document.getElementById('thinkingIndicator').style.display = 'inline-flex';
        }

        function hideThinking() {
            document.getElementById('thinkingIndicator').style.display = 'none';
        }

        // Keyboard shortcuts
        document.getElementById('commandInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendCommand();
            }
        });

        document.addEventListener('keydown', function(e) {
            // Ctrl+K to clear output
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                document.getElementById('outputBody').innerHTML = '';
                addOutputLine('Output cleared.');
            }
            
            // Up arrow for history
            if (e.key === 'ArrowUp') {
                const input = document.getElementById('commandInput');
                if (commandHistory.length > 0) {
                    if (historyIndex < 0) historyIndex = commandHistory.length - 1;
                    input.value = commandHistory[historyIndex];
                    historyIndex = Math.max(0, historyIndex - 1);
                }
            }
            
            // Down arrow for history
            if (e.key === 'ArrowDown') {
                const input = document.getElementById('commandInput');
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    input.value = commandHistory[historyIndex];
                } else {
                    historyIndex = -1;
                    input.value = '';
                }
            }
        });

        // Start
        init();
    </script>
</body>
</html>